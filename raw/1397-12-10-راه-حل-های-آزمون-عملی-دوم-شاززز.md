---
blog:
    author: طلاهای دوره ۲۸
    date: [1397, 12, 10, 21, 14]
---
# راه حل های آزمون عملی دوم شاززز

<div class="cnt">
<p>پیشنهاد میشه اگه آزمون رو ندادید اول سوالا رو بخونید و خودتون روش فکر کنید!</p>
<p></p>
<p>سوال اول:</p>
<p>اول باینری سرچ روی جواب میزنیم. فرض کنید میخوایم چک کنیم که آیا جواب مسئله میتونه کمتر مساوی x باشه یا نه.</p>
<p>ماکسیمم
 جفت کفش ها واضحه که min(n , m) هستش و بدون کم شدن از کلیت مسئله فرض 
کنید n&lt;=m ینی کفش پای راست کمتر مساوی کفش های پای چپن.<br/></p>
<p>کفش
 های پای راست و چپ رو بر اساس سایزشون سورت میکنیم. بعد شروع میکنیم از 
کفش با سایز مینیمم پای راست و سعی میکنیم با کفش با مینیمم سایز پای چپ 
جفتش کنیم. اگه در مرحله ای نتونستیم برای یه کفش پای راست جفت پیدا کنیم 
ینی جواب کمتر مساوی ایکس نمیتونه باشه. وگرنه هم که هست!</p>
<p>اگر سورت ها رو قبل از باینری سرچ انجام بدیم پیچیدگی زمانیمون (O(nlogn + nlog (max_size_kafsh) هستش.<br/></p>
<p><a href="https://paste.ubuntu.com/p/CCbwV9TGXD/" target="_blank">کد</a><br/></p>
<p><br/></p>
<p>سوال دوم:</p>
<p>ثابت
 میشه که همیشه جواب وجود داره. اول کسایی رو در نظر بگیرید که انتخابشون 
یکتاست ینی اگه مجاور دو ظرف با تعداد a,b باشه که a/2&lt;=b این شخص 
انتخابش یکتاست و ظرف با سایز b رو انتخاب میکنه چون در هر صورت از اون ظرف
 بیشتر سیب زمینی میخوره.</p>
<p>حالا بقیه افراد رو بگیرید، اگه هیچکس انتخابش یکتا نباشه و همه از سیب زمینی خودشون بخورن، یک جواب داریم.</p>
<p>پس
 حداقل یه نفر هست که انتخابش یکتا باشه. وقتی بقیه افراد رو در نظر 
میگیریم این افراد یه سری بازه روی دایره‌ن. با یکم حالت بندی هر بازه هندل
 میشه. برای بهتر فهمیدن حالت ها خوبه که کد رو بخونید!</p>
<p><a href="https://paste.ubuntu.com/p/7xkqN3mBMM/" target="_blank">کد</a><br/></p>
<p><br/></p>
<p>سوال سوم:</p>
<p>از <a href="http://agc005.contest.atcoder.jp/data/agc/005/editorial.pdf" target="_blank">اینجا</a> میتونید  راه حل رو بخونید. (صفحه ی ۱۳)</p>
<p><a href="https://paste.ubuntu.com/p/vJZ4zWNrDv/" target="_blank">کد<br/></a></p>
<p><br/></p>
<p>سوال چهارم:</p>
<p>برای
 کمینه کردن جواب، دوبخشی درخت ر در نظر بگیرید. (درخت ها دوبخشین!! واو) 
همه یال ها رو از یه بخش به بخش دیگه جهت دار کنید. اینطوری جواب برابر 
تعداد یال های درخت میشه که به وضوح از این بهتر هم نمیشه کرد جوابو.</p>
<p><br/></p>
<p>تو گراف به راسی که جمع فاصله هاش تا بقیه رئوس مینیممه میگیم سنتروید. <a href="https://codeforces.com/blog/entry/57593" target="_blank">اینجا</a> میتونید یکم بیشتر دربارش بخونید.<br/></p>
<p>برای
 بیشینه کردن جواب، فرض کنید سنتروید درخت راس c باشه. ثابت میشه حالتی از 
جواب بیشینه وجود داره که به ازای هر راس v توی درخت یا v به c مسیر داره 
یا c به v. درخت رو از سنتروید آویزون کنید. طبق چیزی که گفتیم اگه یال بین
 c,v رو از c به v بدیم باید تو کل زیردرخت راس v هم یالا رو به پایین 
باشن.</p>
<p>فرض کنید کسایی که به c مسیر دارن a تا 
باشن. جواب برابر (a)*(n-1-a) + n-1 هستش. همچنین a*(n-1-a) وقتی ماکسیمم 
میشه که a نزدیک ترین حالت به n-1/2 باشه. (کتاب سوم دبستان)<br/></p>
<p>پس
 میتونیم زیردرخت ها رو به شکل یه سری دسته ببینیم که دسته iام اندازه‌ش 
برابر با سایز زیردرخت iامه. بعد روی نصف مجموع این دسته ها باید knapsack 
بزنیم که از <a href="https://codeforces.com/blog/entry/59606" target="_blank">اینجا</a> میتونید مشاهده کنید. <br/></p>
<p>پیچیدگی زمانیمون میشه O(n^1.5) که اگه با بیت‌ست نپسک رو بزنیم O(n^1.5/32) میشه.</p>
<p><a href="https://paste.ubuntu.com/p/ht2BpzFVBm/" target="_blank">کد<br/></a></p>
</div>
